我们给第一级代理商直接配置折扣，
在通道折扣的基础上添加一个费率折扣（rate_discount）
然后添加费率折扣和代理商的绑定（agency_active_rate）


第一级代理商给第二级代理商配置折扣，
首先第一级代理商要找到自己的某个地区的费率折扣id，
然后在这个费率折扣

也是先新增一个费率折扣（rate_discount），只是他的依据不是通道折扣，而是配给自己的费率折扣了，
再增加一个绑定
自己的费率折扣和自己的下游的费率折扣 绑定的通道折扣是一样的

找到自己的某个地区的费率折扣id，然后找到通道折扣，然后配给下级代理商的费率中的通道
这样级联删除的话，就会删掉下面的所有下级代理商的费率折扣


折扣没有上下级，代理商有上下级，费率折扣需不需要有上下级


接收的参数是不一样，返回的参数（我们怎么写，他们就怎么写接口去接收推送）

一个代理商发送一个传单请求，帮他确定好通道。有了通道，就可以向该通道绑定的订购地址去订购，
上游有推送订单结果，我们在上游也有回调地址，上游按照我们的回调地址返结果给我们，那这个结果应该返给谁呢，应该按照这个代理商的回调地址去返回，返回的参数统一设置

根据代理商传过来的用户名apikey找到这个代理商的回调地址backUrl，
我们把不同的上游返回的不同参数组合，封装成指定的参数组合，在程序中动态指定返回地址

每个上游都一个controller地址，每个controller负责接受上游给我们的不同的回调结果。
该向谁家的回调地址返回结果呢？

充值的时候，上游会返给我们这个订单号，我们可以根据这个订单号去找到我们自己系统生成的订单号，然后去设置结果？

在用户订单号上加上一个可逆的根据代理商id生成的固定大小的加密的号码，解密之后，就可以得到
这个代理商的id，然后从数据库得到这家代理商的回调绑定地址

上游返回的回调参数，一定要有能区分我们自己代理商的可选参数，如果找不到代理商，那结果就不知道该返给谁了。

