系统更新状态：主动调用状态查询，手动推送结果，回调推送

什么时候更新订单状态呢，
1.

什么时候更新代理商订单状态
创建订单的时候订单状态是什么，
1.正常提单。
充值进行（主动查询，一定会更新状态）

页面返回“订单添加成功”
2.系统页面提单异常。充值失败（考虑直接退款）

创建订单的时候代理商订单状态是什么

页面和对上接口
1.在订单状态接口中，把所有真实状态详情返回，
状态值除了成功和失败，全部返回充值进行
绑定表的状态，充值进行全部都用系统：正在充值
订单表的状态更新，充值进行状态值用系统进行，详情用真实状态

成功和失败用系统成功和失败


2.在页面中，根据用户权限显示，显示相应的订单状态（订单状态，或者代理商订单状态）

批量更新更新代理商订单状态的时候（包括超管的）

对下接口：对下接口的订单状态，和推送给下游的状态
除了充值成功，其他状态，都要做处理，
包括充值失败，可以先直接返回失败，然后退款；或者返回充值等待
上游返充值异常，不直接返回失败，而是返回充值等待，不退款。

上游接口只返充值成功，失败和进行，详情区分很多
只会根据代理商订单表order_state来查，
而这个值在系统平台通道暂停，接口余额不足都会出现充值等待的值情况

充值成功，要看ap，充值进行，要看ap，充值失败，要看ap
提单成功 pur的状态值设为充值进行，详情设置为充值进行。
orderDTO的状态值返为充值进行，详情设置为充值进行。

提单失败，pur的状态值设为充值等待，详情设为充值失败。费率折扣
超管的订单状态值设为充值等待，详情设为充值失败
一般用户订单状态值设为充值进行，详情设为充值进行

超管用订单表查询，一般用ap查询

添加超管的时候
通道状态暂停，页面可以提单
通道使用状态暂停，页面不能提单，不能显示折扣

接口使用前提，通道状态是开通的，而且有订单号

订单的结果，设置为接口的返回结果值，和结果详情

充值接口设计，有返回充值实体，就表示充值进行，不存在就表示充值失败

更新页面状态
充值失败，都返回失败

如果充值进行，则反进行

成功，进行和等待
更新订单表的detail









