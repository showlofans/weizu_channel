"use strict";
var Main = function() {
    function e() {
        c.trigger("mouseleave")
    }
    function t() {
        return n.hasClass("touch")
    }
    function o() {
        return r.width() < l.desktop
    }
    function a() {
        return $(".app-sidebar-closed").length
    }
    function s() {
        return $(".app-sidebar-fixed").length
    }
    function i() {
        return !! /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
    }
    var n = $("html"),
    r = $(window),
    c = $(".app-aside"),
    l = {},
    d = $("#app");
    l = {
        desktopXL: 1200,
        desktop: 992,
        tablet: 768,
        mobile: 480
    },
    $(".current-year").text((new Date).getFullYear());
    var p = function() {
        var i, n, l = t() ? "click": "mouseenter",
        d = $("#sidebar"),
        p = "";
        d.on("click", "a",
        function(e) {
            n = $(this),
            (!a() || o() || n.closest("ul").hasClass("sub-menu")) && (n.closest("ul").find(".open").not(".active").children("ul").not(n.next()).slideUp(200).parent(".open").removeClass("open"), n.next().is("ul") && n.parent().toggleClass("open") && (n.next().slideToggle(200,
            function() {
                r.trigger("resize")
            }), e.stopPropagation(), e.preventDefault()))
        }),
        d.on(l, "a",
        function(t) {
            if (a() && !o() && (n = $(this), !n.parent().hasClass("hover") && !n.closest("ul").hasClass("sub-menu"))) {
                e(),
                n.parent().addClass("hover"),
                i = n.find(".item-inner").clone(),
                n.parent().hasClass("active") && i.addClass("active");
                var l = $("#sidebar").position().top,
                d = s() ? n.parent().position().top + l: n.parent().position().top;
                if (i.css({
                    position: s() ? "fixed": "absolute",
                    height: n.outerHeight(),
                    top: d
                }).appendTo(c), !n.next().is("ul")) return void(p = "");
                p = n.next().clone(!0),
                p.appendTo(c).css({
                    top: i.position().top + n.outerHeight(),
                    position: s() ? "fixed": "absolute"
                }),
                n.parent().position().top + n.outerHeight() + l + p.height() > r.height() && s() ? p.css("bottom", 0) : p.css("bottom", "auto"),
                c.children().first().scroll(function() {
                    s() && e()
                }),
                setTimeout(function() {
                    c.is(":empty") || $(document).on("click tap", e)
                },
                300)
            }
        }),
        c.on("mouseleave",
        function(t) {
            $(document).off("click tap", e),
            $(".hover", c).removeClass("hover"),
            $("> .item-inner", c).remove(),
            $("> ul", c).remove()
        })
    },
    f = function() {
        function e(e) {
            0 === t.has(e.target).length && !t.is(e.target) && t.parent().hasClass("collapse in") && s.trigger("click")
        }
        var t = $(".navbar-collapse > .nav"),
        a = r.innerHeight() - $("header").outerHeight(),
        s = $("#menu-toggler");
        o() ? t.css({
            height: a
        }) : t.css({
            height: "auto"
        }),
        $(document).on("mousedown touchstart", e)
    },
    u = function() {
        $('[data-toggle="tooltip"]').tooltip()
    },
    h = function() {
        $('[data-toggle="popover"]').popover()
    },
    g = function() {
        var e = $(".perfect-scrollbar"); ! i() && e.length && (e.perfectScrollbar({
            suppressScrollX: !0
        }), e.on("mousemove",
        function() {
            $(this).perfectScrollbar("update")
        }))
    },
    v = function() {
        var e = $("*[data-toggle-class]");
        e.each(function() {
            var t, o, a = $(this),
            s = a.attr("data-toggle-class");
            o = "undefined" != typeof a.attr("data-toggle-target") ? $(a.attr("data-toggle-target")) : a,
            a.on("click",
            function(e) {
                "undefined" !== a.attr("data-toggle-type") && "on" == a.attr("data-toggle-type") ? o.addClass(s) : "undefined" !== a.attr("data-toggle-type") && "off" == a.attr("data-toggle-type") ? o.removeClass(s) : o.toggleClass(s),
                e.preventDefault(),
                a.attr("data-toggle-click-outside") && (t = $(a.attr("data-toggle-click-outside")), $(document).on("mousedown touchstart", i))
            });
            var i = function(a) {
                0 !== t.has(a.target).length || t.is(a.target) || e.is(a.target) || !o.hasClass(s) || (o.removeClass(s), $(document).off("mousedown touchstart", i))
            }
        })
    },
    m = function() {
        var e = Array.prototype.slice.call(document.querySelectorAll(".js-switch"));
        e.forEach(function(e) {
            new Switchery(e)
        })
    },
    b = function() {
        var e = $(".search-form"),
        t = e.children("form");
        e.parent();
        $(".s-open").on("click",
        function(e) {
            t.prependTo(c),
            e.preventDefault(),
            $(document).on("mousedown touchstart", o)
        }),
        $(".s-remove").on("click",
        function(o) {
            t.appendTo(e),
            o.preventDefault()
        });
        var o = function(e) {
            t.is(e.target) || 0 !== t.has(e.target).length || ($(".s-remove").trigger("click"), $(document).off("mousedown touchstart", o))
        }
    },
    k = function() {
        function e(e) {
            switch (e) {
            case "theme-2":
            case "theme-3":
            case "theme-5":
            case "theme-6":
                $(".navbar-brand img").attr("src", "assets/images/logo2.png");
                break;
            default:
                $(".navbar-brand img").attr("src", "loginfiles/sllogoin.png")
            }
        }
        var t = new Object,
        o = new Object;
        t = {
            fixedHeader: !0,
            fixedSidebar: !0,
            closedSidebar: !1,
            fixedFooter: !1,
            theme: "theme-1"
        },
        $.cookie && (o = $.cookie("clip-setting") ? jQuery.parseJSON($.cookie("clip-setting")) : t),
        o.fixedHeader ? d.addClass("app-navbar-fixed") : d.removeClass("app-navbar-fixed"),
        o.fixedSidebar ? d.addClass("app-sidebar-fixed") : d.removeClass("app-sidebar-fixed"),
        o.closedSidebar ? d.addClass("app-sidebar-closed") : d.removeClass("app-sidebar-closed"),
        o.fixedFooter ? d.addClass("app-footer-fixed") : d.removeClass("app-footer-fixed"),
        d.hasClass("app-navbar-fixed") ? $("#fixed-header").prop("checked", !0) : $("#fixed-header").prop("checked", !1),
        d.hasClass("app-sidebar-fixed") ? $("#fixed-sidebar").prop("checked", !0) : $("#fixed-sidebar").prop("checked", !1),
        d.hasClass("app-sidebar-closed") ? $("#closed-sidebar").prop("checked", !0) : $("#closed-sidebar").prop("checked", !1),
        d.hasClass("app-footer-fixed") ? $("#fixed-footer").prop("checked", !0) : $("#fixed-footer").prop("checked", !1),
        $("#skin_color").attr("href", "assets/css/themes/" + o.theme + ".css"),
        $('input[name="setting-theme"]').each(function() {
            $(this).val() == o.theme ? $(this).prop("checked", !0) : $(this).prop("checked", !1)
        }),
        e(o.theme),
        $('input[name="setting-theme"]').change(function() {
            var t = $(this).val();
            $("#skin_color").attr("href", "assets/css/themes/" + t + ".css"),
            e(t),
            o.theme = t,
            $.cookie("clip-setting", JSON.stringify(o))
        }),
        $("#fixed-header").change(function() {
            $(this).is(":checked") ? d.addClass("app-navbar-fixed") : d.removeClass("app-navbar-fixed"),
            o.fixedHeader = $(this).is(":checked"),
            $.cookie("clip-setting", JSON.stringify(o))
        }),
        $("#fixed-sidebar").change(function() {
            $(this).is(":checked") ? d.addClass("app-sidebar-fixed") : d.removeClass("app-sidebar-fixed"),
            o.fixedSidebar = $(this).is(":checked"),
            $.cookie("clip-setting", JSON.stringify(o))
        }),
        $("#closed-sidebar").change(function() {
            $(this).is(":checked") ? d.addClass("app-sidebar-closed") : d.removeClass("app-sidebar-closed"),
            o.closedSidebar = $(this).is(":checked"),
            $.cookie("clip-setting", JSON.stringify(o))
        }),
        $("#fixed-footer").change(function() {
            $(this).is(":checked") ? d.addClass("app-footer-fixed") : d.removeClass("app-footer-fixed"),
            o.fixedFooter = $(this).is(":checked"),
            $.cookie("clip-setting", JSON.stringify(o))
        })
    },
    x = function(e) {
        $(".show-tab").length && $(".show-tab").on("click",
        function(e) {
            e.preventDefault();
            var t = $(this).attr("href");
            $(t).length && $('a[href="' + t + '"]').tab("show")
        })
    },
    C = function() {
        var e = $(".panel-scroll");
        e.length && !i() && e.perfectScrollbar({
            suppressScrollX: !0
        })
    },
    w = function() {
        $("body").on("click", ".panel-close",
        function(e) {
            function t() {
                var e = o.parent();
                o.fadeOut(300,
                function() {
                    $(this).remove(),
                    e.is('[class*="col-"]') && 0 === e.children("*").length && e.remove()
                })
            }
            var o = $(this).closest(".panel");
            t(),
            e.preventDefault()
        }),
        $("body").on("click", ".panel-refresh",
        function(e) {
            var t = $(this),
            o = "csspinner",
            a = t.parents(".panel").eq(0),
            s = t.data("spinner") || "load1";
            a.addClass(o + " " + s),
            window.setTimeout(function() {
                a.removeClass(o)
            },
            1e3),
            e.preventDefault()
        }),
        $("body").on("click", ".panel-collapse",
        function(e) {
            e.preventDefault();
            var t = ($(this), jQuery(this).closest(".panel")),
            o = t.children(".panel-body");
            o.slideToggle(200,
            function() {
                t.toggleClass("collapses")
            })
        })
    },
    y = function(e) {
        $(".go-top").on("click",
        function(e) {
            $("html, body").animate({
                scrollTop: 0
            },
            "slow"),
            e.preventDefault()
        })
    },
    S = function() { [].slice.call(document.querySelectorAll("select.cs-select")).forEach(function(e) {
            new SelectFx(e)
        })
    },
    O = function(e, t, o) {
        $(window).resize(function() {
            f()
        })
    };
    return {
        init: function() {
            k(),
            v(),
            p(),
            f(),
            b(),
            u(),
            h(),
            g(),
            m(),
            O(),
            x(),
            C(),
            w(),
            S(),
            y()
        }
    }
} ();